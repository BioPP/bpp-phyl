#! /bin/bash

# Abort if any command returns an error value
set -e

removeGeneric() {
  if [ -f $1.all ]
  then
    echo "-- Remove generic include file: $1.all"
    rm $1.all
  fi
  for file in "$1"/*
  do
    if [ -d "$file" ]
    then
      # Recursion:
      removeGeneric $file
    fi
  done
}

case "$1" in
  remove|upgrade|deconfigure)
    # Actualize .all files
    removeGeneric /usr/include/Bpp
  ;;
  failed-upgrade)
    echo "$1"
  ;;
  *)
    echo "prerm called with unknown argument \`$1'" >&2
    exit 1
  ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
